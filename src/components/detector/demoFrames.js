import { useEffect, useRef, useState } from "react";
import frame20 from "../../assets/demo_frames/frame_video4_20.jpg";
import frame21 from "../../assets/demo_frames/frame_video4_21.jpg";
import frame22 from "../../assets/demo_frames/frame_video4_22.jpg";
import frame23 from "../../assets/demo_frames/frame_video4_23.jpg";
import frame24 from "../../assets/demo_frames/frame_video4_24.jpg";
import frame25 from "../../assets/demo_frames/frame_video4_25.jpg";
import frame26 from "../../assets/demo_frames/frame_video4_26.jpg";
import frame27 from "../../assets/demo_frames/frame_video4_27.jpg";
import frame28 from "../../assets/demo_frames/frame_video4_28.jpg";
import frame29 from "../../assets/demo_frames/frame_video4_29.jpg";
import frame30 from "../../assets/demo_frames/frame_video4_30.jpg";
import frame31 from "../../assets/demo_frames/frame_video4_31.jpg";
import frame32 from "../../assets/demo_frames/frame_video4_32.jpg";
import frame33 from "../../assets/demo_frames/frame_video4_33.jpg";
import frame34 from "../../assets/demo_frames/frame_video4_34.jpg";
import frame35 from "../../assets/demo_frames/frame_video4_35.jpg";
import frame36 from "../../assets/demo_frames/frame_video4_36.jpg";
import frame37 from "../../assets/demo_frames/frame_video4_37.jpg";
import frame38 from "../../assets/demo_frames/frame_video4_38.jpg";
import frame39 from "../../assets/demo_frames/frame_video4_39.jpg";
import frame40 from "../../assets/demo_frames/frame_video4_40.jpg";
import frame41 from "../../assets/demo_frames/frame_video4_41.jpg";
import frame42 from "../../assets/demo_frames/frame_video4_42.jpg";
import frame43 from "../../assets/demo_frames/frame_video4_43.jpg";
import frame44 from "../../assets/demo_frames/frame_video4_44.jpg";
import frame45 from "../../assets/demo_frames/frame_video4_45.jpg";
import frame46 from "../../assets/demo_frames/frame_video4_46.jpg";
import frame47 from "../../assets/demo_frames/frame_video4_47.jpg";
import frame48 from "../../assets/demo_frames/frame_video4_48.jpg";
import frame49 from "../../assets/demo_frames/frame_video4_49.jpg";
import frame50 from "../../assets/demo_frames/frame_video4_50.jpg";
import frame51 from "../../assets/demo_frames/frame_video4_51.jpg";
import frame52 from "../../assets/demo_frames/frame_video4_52.jpg";
import frame53 from "../../assets/demo_frames/frame_video4_53.jpg";
import frame54 from "../../assets/demo_frames/frame_video4_54.jpg";
import frame55 from "../../assets/demo_frames/frame_video4_55.jpg";
import frame56 from "../../assets/demo_frames/frame_video4_56.jpg";
import frame57 from "../../assets/demo_frames/frame_video4_57.jpg";
import frame58 from "../../assets/demo_frames/frame_video4_58.jpg";
import frame59 from "../../assets/demo_frames/frame_video4_59.jpg";
import frame60 from "../../assets/demo_frames/frame_video4_60.jpg";
import frame61 from "../../assets/demo_frames/frame_video4_61.jpg";
import frame62 from "../../assets/demo_frames/frame_video4_62.jpg";
import frame63 from "../../assets/demo_frames/frame_video4_63.jpg";
import frame64 from "../../assets/demo_frames/frame_video4_64.jpg";
import frame65 from "../../assets/demo_frames/frame_video4_65.jpg";
import frame66 from "../../assets/demo_frames/frame_video4_66.jpg";
import frame67 from "../../assets/demo_frames/frame_video4_67.jpg";
import frame68 from "../../assets/demo_frames/frame_video4_68.jpg";
import frame69 from "../../assets/demo_frames/frame_video4_69.jpg";
import frame70 from "../../assets/demo_frames/frame_video4_70.jpg";
import frame71 from "../../assets/demo_frames/frame_video4_71.jpg";
import frame72 from "../../assets/demo_frames/frame_video4_72.jpg";
import frame73 from "../../assets/demo_frames/frame_video4_73.jpg";
import frame74 from "../../assets/demo_frames/frame_video4_74.jpg";
import frame75 from "../../assets/demo_frames/frame_video4_75.jpg";
import frame76 from "../../assets/demo_frames/frame_video4_76.jpg";
import frame77 from "../../assets/demo_frames/frame_video4_77.jpg";
import frame78 from "../../assets/demo_frames/frame_video4_78.jpg";
import frame79 from "../../assets/demo_frames/frame_video4_79.jpg";
import frame80 from "../../assets/demo_frames/frame_video4_80.jpg";
import frame81 from "../../assets/demo_frames/frame_video4_81.jpg";
import frame82 from "../../assets/demo_frames/frame_video4_82.jpg";
import frame83 from "../../assets/demo_frames/frame_video4_83.jpg";
import frame84 from "../../assets/demo_frames/frame_video4_84.jpg";
import frame85 from "../../assets/demo_frames/frame_video4_85.jpg";
import frame86 from "../../assets/demo_frames/frame_video4_86.jpg";
import frame87 from "../../assets/demo_frames/frame_video4_87.jpg";
import frame88 from "../../assets/demo_frames/frame_video4_88.jpg";
import frame89 from "../../assets/demo_frames/frame_video4_89.jpg";
import frame90 from "../../assets/demo_frames/frame_video4_90.jpg";
import frame91 from "../../assets/demo_frames/frame_video4_91.jpg";
import frame92 from "../../assets/demo_frames/frame_video4_92.jpg";
import frame93 from "../../assets/demo_frames/frame_video4_93.jpg";
import frame94 from "../../assets/demo_frames/frame_video4_94.jpg";
import frame95 from "../../assets/demo_frames/frame_video4_95.jpg";
import frame96 from "../../assets/demo_frames/frame_video4_96.jpg";
import frame97 from "../../assets/demo_frames/frame_video4_97.jpg";
import frame98 from "../../assets/demo_frames/frame_video4_98.jpg";
import frame99 from "../../assets/demo_frames/frame_video4_99.jpg";
import frame100 from "../../assets/demo_frames/frame_video4_100.jpg";
import frame101 from "../../assets/demo_frames/frame_video4_101.jpg";
import frame102 from "../../assets/demo_frames/frame_video4_102.jpg";
import frame103 from "../../assets/demo_frames/frame_video4_103.jpg";
import frame104 from "../../assets/demo_frames/frame_video4_104.jpg";
import frame105 from "../../assets/demo_frames/frame_video4_105.jpg";
import frame106 from "../../assets/demo_frames/frame_video4_106.jpg";
import frame107 from "../../assets/demo_frames/frame_video4_107.jpg";
import frame108 from "../../assets/demo_frames/frame_video4_108.jpg";
import frame109 from "../../assets/demo_frames/frame_video4_109.jpg";
import frame110 from "../../assets/demo_frames/frame_video4_110.jpg";
import frame111 from "../../assets/demo_frames/frame_video4_111.jpg";
import frame112 from "../../assets/demo_frames/frame_video4_112.jpg";
import frame113 from "../../assets/demo_frames/frame_video4_113.jpg";
import frame114 from "../../assets/demo_frames/frame_video4_114.jpg";
import frame115 from "../../assets/demo_frames/frame_video4_115.jpg";
import frame116 from "../../assets/demo_frames/frame_video4_116.jpg";
import frame117 from "../../assets/demo_frames/frame_video4_117.jpg";
import frame118 from "../../assets/demo_frames/frame_video4_118.jpg";
import frame119 from "../../assets/demo_frames/frame_video4_119.jpg";
import frame120 from "../../assets/demo_frames/frame_video4_120.jpg";
import frame121 from "../../assets/demo_frames/frame_video4_121.jpg";
import frame122 from "../../assets/demo_frames/frame_video4_122.jpg";
import frame123 from "../../assets/demo_frames/frame_video4_123.jpg";
import frame124 from "../../assets/demo_frames/frame_video4_124.jpg";
import frame125 from "../../assets/demo_frames/frame_video4_125.jpg";
import frame126 from "../../assets/demo_frames/frame_video4_126.jpg";
import frame127 from "../../assets/demo_frames/frame_video4_127.jpg";
import frame128 from "../../assets/demo_frames/frame_video4_128.jpg";
import frame129 from "../../assets/demo_frames/frame_video4_129.jpg";
import frame130 from "../../assets/demo_frames/frame_video4_130.jpg";
import frame131 from "../../assets/demo_frames/frame_video4_131.jpg";
import frame132 from "../../assets/demo_frames/frame_video4_132.jpg";
import frame133 from "../../assets/demo_frames/frame_video4_133.jpg";
import frame134 from "../../assets/demo_frames/frame_video4_134.jpg";
import frame135 from "../../assets/demo_frames/frame_video4_135.jpg";
import frame136 from "../../assets/demo_frames/frame_video4_136.jpg";
import frame137 from "../../assets/demo_frames/frame_video4_137.jpg";
import frame138 from "../../assets/demo_frames/frame_video4_138.jpg";
// import frame139 from "../../assets/demo_frames/frame_video4_139.jpg";
// import frame140 from "../../assets/demo_frames/frame_video4_140.jpg";
// import frame141 from "../../assets/demo_frames/frame_video4_141.jpg";
// import frame142 from "../../assets/demo_frames/frame_video4_142.jpg";
// import frame143 from "../../assets/demo_frames/frame_video4_143.jpg";
// import frame144 from "../../assets/demo_frames/frame_video4_144.jpg";
// import frame145 from "../../assets/demo_frames/frame_video4_145.jpg";
// import frame146 from "../../assets/demo_frames/frame_video4_146.jpg";
// import frame147 from "../../assets/demo_frames/frame_video4_147.jpg";
// import frame148 from "../../assets/demo_frames/frame_video4_148.jpg";
// import frame149 from "../../assets/demo_frames/frame_video4_149.jpg";
// import frame150 from "../../assets/demo_frames/frame_video4_150.jpg";
// import frame151 from "../../assets/demo_frames/frame_video4_151.jpg";
// import frame152 from "../../assets/demo_frames/frame_video4_152.jpg";
// import frame153 from "../../assets/demo_frames/frame_video4_153.jpg";
// import frame154 from "../../assets/demo_frames/frame_video4_154.jpg";
// import frame155 from "../../assets/demo_frames/frame_video4_155.jpg";
// import frame156 from "../../assets/demo_frames/frame_video4_156.jpg";
// import frame157 from "../../assets/demo_frames/frame_video4_157.jpg";
// import frame158 from "../../assets/demo_frames/frame_video4_158.jpg";
// import frame159 from "../../assets/demo_frames/frame_video4_159.jpg";
// import frame160 from "../../assets/demo_frames/frame_video4_160.jpg";
// import frame161 from "../../assets/demo_frames/frame_video4_161.jpg";
// import frame162 from "../../assets/demo_frames/frame_video4_162.jpg";
// import frame163 from "../../assets/demo_frames/frame_video4_163.jpg";
// import frame164 from "../../assets/demo_frames/frame_video4_164.jpg";
// import frame165 from "../../assets/demo_frames/frame_video4_165.jpg";
// import frame166 from "../../assets/demo_frames/frame_video4_166.jpg";
// import frame167 from "../../assets/demo_frames/frame_video4_167.jpg";
// import frame168 from "../../assets/demo_frames/frame_video4_168.jpg";
// import frame169 from "../../assets/demo_frames/frame_video4_169.jpg";
// import frame170 from "../../assets/demo_frames/frame_video4_170.jpg";
// import frame171 from "../../assets/demo_frames/frame_video4_171.jpg";
// import frame172 from "../../assets/demo_frames/frame_video4_172.jpg";
// import frame173 from "../../assets/demo_frames/frame_video4_173.jpg";
// import frame174 from "../../assets/demo_frames/frame_video4_174.jpg";
// import frame175 from "../../assets/demo_frames/frame_video4_175.jpg";
// import frame176 from "../../assets/demo_frames/frame_video4_176.jpg";
// import frame177 from "../../assets/demo_frames/frame_video4_177.jpg";
// import frame178 from "../../assets/demo_frames/frame_video4_178.jpg";
// import frame179 from "../../assets/demo_frames/frame_video4_179.jpg";
// import frame180 from "../../assets/demo_frames/frame_video4_180.jpg";
// import frame181 from "../../assets/demo_frames/frame_video4_181.jpg";
// import frame182 from "../../assets/demo_frames/frame_video4_182.jpg";
// import frame183 from "../../assets/demo_frames/frame_video4_183.jpg";
// import frame184 from "../../assets/demo_frames/frame_video4_184.jpg";
// import frame185 from "../../assets/demo_frames/frame_video4_185.jpg";
// import frame186 from "../../assets/demo_frames/frame_video4_186.jpg";
// import frame187 from "../../assets/demo_frames/frame_video4_187.jpg";
// import frame188 from "../../assets/demo_frames/frame_video4_188.jpg";
// import frame189 from "../../assets/demo_frames/frame_video4_189.jpg";
// import frame190 from "../../assets/demo_frames/frame_video4_190.jpg";
// import frame191 from "../../assets/demo_frames/frame_video4_191.jpg";
// import frame192 from "../../assets/demo_frames/frame_video4_192.jpg";
// import frame193 from "../../assets/demo_frames/frame_video4_193.jpg";
// import frame194 from "../../assets/demo_frames/frame_video4_194.jpg";
// import frame195 from "../../assets/demo_frames/frame_video4_195.jpg";
// import frame196 from "../../assets/demo_frames/frame_video4_196.jpg";
// import frame197 from "../../assets/demo_frames/frame_video4_197.jpg";
// import frame198 from "../../assets/demo_frames/frame_video4_198.jpg";
// import frame199 from "../../assets/demo_frames/frame_video4_199.jpg";
// import frame200 from "../../assets/demo_frames/frame_video4_200.jpg";
// import frame201 from "../../assets/demo_frames/frame_video4_201.jpg";
// import frame202 from "../../assets/demo_frames/frame_video4_202.jpg";
// import frame203 from "../../assets/demo_frames/frame_video4_203.jpg";
// import frame204 from "../../assets/demo_frames/frame_video4_204.jpg";
// import frame205 from "../../assets/demo_frames/frame_video4_205.jpg";
// import frame206 from "../../assets/demo_frames/frame_video4_206.jpg";
// import frame207 from "../../assets/demo_frames/frame_video4_207.jpg";

export const useDemoVideo = () => {
  const framePaths = [
    frame20,
    frame21,
    frame22,
    frame23,
    frame24,
    frame25,
    frame26,
    frame27,
    frame28,
    frame29,
    frame30,
    frame31,
    frame32,
    frame33,
    frame34,
    frame35,
    frame36,
    frame37,
    frame38,
    frame39,
    frame40,
    frame41,
    frame42,
    frame43,
    frame44,
    frame45,
    frame46,
    frame47,
    frame48,
    frame49,
    frame50,
    frame51,
    frame52,
    frame53,
    frame54,
    frame55,
    frame56,
    frame57,
    frame58,
    frame59,
    frame60,
    frame61,
    frame62,
    frame63,
    frame64,
    frame65,
    frame66,
    frame67,
    frame68,
    frame69,
    frame70,
    frame71,
    frame72,
    frame73,
    frame74,
    frame75,
    frame76,
    frame77,
    frame78,
    frame79,
    frame80,
    frame81,
    frame82,
    frame83,
    frame84,
    frame85,
    frame86,
    frame87,
    frame88,
    frame89,
    frame90,
    frame91,
    frame92,
    frame93,
    frame94,
    frame95,
    frame96,
    frame97,
    frame98,
    frame99,
    frame100,
    frame101,
    frame102,
    frame103,
    frame104,
    frame105,
    frame106,
    frame107,
    frame108,
    frame109,
    frame110,
    frame111,
    frame112,
    frame113,
    frame114,
    frame115,
    frame116,
    frame117,
    frame118,
    frame119,
    frame120,
    100,
    99,
    98,
    97,
    96,
    95,
    94,
    93,
    92,
    91,
    90,
    89,
    88,
    87,
    86,
    85,
    84,
    83,
    82,
    81,
    80,
    79,
    78,
    77,
    76,
    75,
    74,
    73,
    72,
    71,
    70,
    69,
    68,
    67,
    66,
    65,
    64,
    63,
    62,
    61,
    60,
    59,
    58,
    57,
    56,
    55,
    54,
    53,
    52,
    51,
    50,
    50,
    51,
    52,
    53,
    54,
    55,
    56,
    57,
    58,
    59,
    60,
    61,
    62,
    63,
    64,
    65,
    66,
    67,
    68,
    69,
    70,
    71,
    72,
    73,
    74,
    75,
    76,
    77,
    78,
    79,
    80,
    81,
    82,
    83,
    84,
    85,
    86,
    87,
    88,
    89,
    90,
    91,
    92,
    93,
    94,
    95,
    96,
    97,
    98,
    99,
    100,
    frame121,
    frame122,
    frame123,
    frame124,
    frame125,
    frame126,
    frame127,
    frame128,
    frame129,
    frame130,
    frame131,
    frame132,
    frame133,
    frame134,
    frame135,
    frame136,
    frame137,
    frame138,
    220,
    220,
    220,
    219,
    218,
    217,
    216,
    215,
    214,
    213,
    212,
    211,
    210,
    209,
    208,
    207,
    206,
    205,
    204,
    203,
    100,
    99,
    98,
    97,
    96,
    95,
    94,
    93,
    92,
    91,
    90,
    89,
    88,
    87,
    86,
    85,
    84,
    83,
    82,
    81,
    80,
    79,
    78,
    77,
    76,
    75,
    74,
    73,
    72,
    71,
    70,
    69,
    68,
    67,
    66,
    65,
    64,
    63,
    62,
    61,
    60,
    59,
    58,
    57,
    56,
    55,
    54,
    53,
    52,
    51,
    50,
    49,
    48,
    47,
    46,
    45,
    44,
    43,
    42,
    41,
    40,
    39,
    38,
    37,
    36,
    35,
    34,
    33,
    32,
    31,
    30,
    29,
    28,
    27,
    26,
    25,
    24,
    23,
    22,
    21,
    20,
    19,
    18,
    17,
    16,
    15,
    14,
    13,
    12,
    11,
    10,
    9,
    8,
    7,
    6,
    5,
    4,
    3,
    2,
    1,
    0
  ];

  const demoVideo = useRef([
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null
  ]);

  const [videoLoaded, setVideoLoaded] = useState(false);
  const loaded = useRef(0);

  useEffect(() => {
    loadDemoVideo();
  }, []);

  const loadDemoVideo = async () => {
    const lastFrameIndex = findLastFrameIndex();
    framePaths.forEach((framePath, i) => {
      const ref = +framePath;
      if (Number.isNaN(ref)) {
        const frame = new Image();
        frame.src = framePath;
        demoVideo.current[i] = frame;
        frame.onload = () => {
          if (i === lastFrameIndex) {
            loaded.current = true;
            setVideoLoaded(true);
          }
        };
      } else {
        demoVideo.current[i] = demoVideo.current[ref];
      }
    });
    while (!loaded.current) {
      await sleep(500);
    }
    framePaths.forEach((framePath, i) => {
      const ref = +framePath;
      if (!Number.isNaN(ref)) {
        demoVideo.current[i] = demoVideo.current[ref];
      }
    });
    return demoVideo;
  };

  const findLastFrameIndex = () => {
    let lastFrameIndex = 0;
    framePaths.forEach((framePath, i) => {
      const ref = +framePath;
      if (Number.isNaN(ref)) {
        lastFrameIndex = i;
      }
    });
    return lastFrameIndex;
  };

  const sleep = (ms) => {
    return new Promise((resolve) => {
      const timeOutId = setTimeout(() => {
        clearTimeout(timeOutId);
        resolve();
      }, ms);
    });
  };

  return [demoVideo, videoLoaded];
};
